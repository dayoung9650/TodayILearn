# 카프카 상세 개념 설명
## 토픽과 파티션
> 토픽은 카프카의 시작과 끝이다
> 카프카를 사용하는 것은 토픽을 만들면서 시작됨
> 토픽에 대해 잘 이해하고 설정을 잘하는 것이 카프카 데이터 활용도 높임
### 적정 파티션 개수
> 토픽의 파티션 개수는 카프카의 성능과 관련이 있음
1. 데이터 처리량
2. 메시지 키 사용 여부
3. 브로커, 컨슈머 영향도

- 파티션 = 카프카 병렬 처리의 핵심
- 파티션 개수가 많아질수록 1:1 매핑되는 컨슈머 개수가 늘어나기 떄문
- 파티션 개수를 정할 때는 토픽에 필요한 데이터 처리량을 측정하여 정하는 것이 중요

### 데이터 처리 속도를 올리는 방법 
1. 컨슈머의 처리량을 늘림
   - 컨슈머 서버의 스케일 업, GC 튜닝
   - 일정 수준 이상의 처리량 올리기 어려움, 대부분 컨슈머 특성 상 다른 시스템과 연동되기 때문
2. 컨슈머를 추가해서 병렬처리량을 늘림
   - 데이터 처리량을 늘리는 가장 확실한 방법
   - 프로듀서가 보내는 데이터 양과 컨슈머의 데이터 처리량을 계산해서 파티션 개수를 정하면 됨
   - 프로듀서 전송 데이터량 < 컨슈머 데이터 처리량 X 파티션 개수
   - 전체 컨슈머 처리량이 프로듀서 처리량보다 적다면 컨슈머 랙 발생, 데이터 처리 지연
- 